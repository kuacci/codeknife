# [Easy][371. Sum of Two Integers](https://leetcode.com/problems/sum-of-two-integers/)

Calculate the sum of two integers a and b, but you are not allowed to use the operator + and -.

**Example 1:**

> Input: a = 1, b = 2
> Output: 3

**Example 2:**

> Input: a = -2, b = 3
> Output: 1

## 思路 - 位操作

这道题不能用'+' 或者 '-'进行加减操作，那么做这方面的计算要考虑用位运算了。虽然C#对二进制的操作不是很方便，不过原理是差不多的。
在计算机里面操作的是二进制数，所以我们也可以模仿这种操作。例如对上面的例子进行操作 1 + 2 = 3，可以做下面几个步骤。

```text

  0001 (1)
  0010 (2)
^ ________
  0011 (3)
```

在这里是采用`^` (异或)来进行相加的操作。异或的操作就是同位相同为0，不同为1，`1 ^ 1 = 0, 0 ^ 0 = 0, 1 ^ 0 = 1, 0 ^ 1 = 1`. 但是如果有进位的话就无法体现出来。例如 2 + 3 = 5。 加法的操作应该如下，有进位。

```text
  0010 (2)
  0011 (3)
+ ________
  0101 (5)
```

使用异或的时候结果如下：

```text
  0010 (2)
  0011 (3)
^ ________
  0001 (1)
```

为了进位，需要使用`&`(与操作)，即只有 `1 & 1 = 1，其他情况为0`.

```text
  0010 (2)
  0011 (3)
& ________
  0010 (2)
```

这里确认是第二位有进位，既然是进位应该需要进到上一位，所以要借助位移操作，`<<`.这里要往左位移一位。

```text
  0010 (2)
<<________
  0100 (4)
```

然后再跟第一步出来的结果向`^`就会得到最后的结果。

```text
  0001 (1)
  0100 (4)
^ ________
  0001 (5)
```

如果是负数，a = -2 , b = 3，也是同样的步骤。先求出a = -2的补数。

```text

1. a 的绝对值 a = |a| = 0010.
2. 对 a 取反 ~a = 1101
3. 末尾+1, a = 1110 (-2)
```

还是按照上面的步骤进行计算

1. a ^ b
2. (a & b) << 1
3. 如果有进位再重复 step 1.

```text
Round 1 :
  1110 (-2)
  0011 (3)
^ ________
  1101 => a

  1110 (-2)
  0011 (3)
& ________
  0010
<<________
  0100 == > b

Round 2 :
  1101 (a)
  0100 (b)
^ ________
  1001 => a

  1101 (a)
  0100 (b)
& ________
  0100
<<________
  1000 == > b

Round 3

  1001 (a)
  1000 (b)
^ ________
  0001 => a

  1001 (a)
  1000 (b)
^ ________
  1000
<<________
  0000 == > b (终止)

a = 0001 (1)
```

## 代码 - 位操作

```csharp
public class Solution {
    public int GetSum(int a, int b) {
        while(b != 0)
        {
            int res = a ^ b;
            b = (a & b) << 1;
            a = res;
        }
        return a;
    }
}
```
